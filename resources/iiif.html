<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IIIF Endpoint</title>
    <style>
        .content {
            margin: auto;
            width: 60%;
        }
        ul { list-style-type: square; }
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }
        td, th {
            border-bottom: 1px solid #dddddd;
            padding: 8px;
        }
        tr:hover { background-color: #f5f5f5; }
        pre {
            background-color: #dddddd;
            border-radius: 5px;
        }
        h1 { text-align: center; }
        th { text-align: left; }
    </style>
</head>
<body>
    <div class="content">
        <h1>IIIF Endpoint</h1>
        <hr>

        <h2>Registration API</h2>
        <p>Endpoint for institutions to register their content and make it searchable</p>
        <ul>
            <li>POST iiif/register</li>
            <li>application/json</li>
        </ul>

        <h3>Request Fields</h3>
        <table>
            <tr>
                <th style="width: 20%">Name</th>
                <th style="width: 20%">Data Type</th>
                <th style="width: 60%">Description</th>
            </tr>
            <tr>
                <td>institution</td>
                <td>String</td>
                <td>Institution in which the content resides.</td>
            </tr>
            <tr>
                <td>content</td>
                <td>JSONArray</td>
                <td>IIIF objects with the following fields:</td>
            </tr>
            <tr>
                <td>- scheme</td>
                <td>String</td>
                <td>Indicates the use of the HTTP or HTTPS protocol in calling the service.</td>
            </tr>
            <tr>
                <td>- server</td>
                <td>String</td>
                <td>The host server on which the service resides. The parameter may also include a port number.</td>
            </tr>
            <tr>
                <td>- /prefix</td>
                <td>String</td>
                <td>The path on the host server to the service. This prefix is optional, but may be useful when the host server supports multiple services. The prefix may contain multiple path segments, delimited by slashes.</td>
            </tr>
            <tr>
                <td>- identifier</td>
                <td>String</td>
                <td>The identifier of the requested image. This may be an ark, URN, filename, or other identifier.</td>
            </tr>
        </table>


        <h3>Response Fields</h3>
        <table>
            <tr>
                <th style="width: 20%">Name</th>
                <th style="width: 20%">Data Type</th>
                <th style="width: 60%">Description</th>
            </tr>
        </table>


        <h3>Example Request</h3>
        <pre>
            <code>
        {
          "institution": "Test",
          "content": [
            {
              "scheme": "http",
              "server": "free.iiifhosting.com",
              "/prefix": "/iiif",
              "identifier": "4d86205050a5da1116d48252d0d33ea7df01360e834c0db76ddf5405f6aa21fe"
            }
          ]
        }
            </code>
        </pre>


        <h3>Example Responses</h3>
        <p>Successful Registration</p>
        <pre>
            <code>
        {
          "status": "200",
          "institution": "DaSCH",
          "numberOfResources": 42, 
          "requestID": "1"
        }
            </code>
        </pre>


        <p>Missing values, empty fields</p>
        <pre>
            <code>
        {
          "status": "400", 
          "errorMessage": [
            "Missing value for institution",
            "empty value for iiifEndpoint",
            "content must be nonempty array"
          ]
        }
            </code>
        </pre>
    </div>
</body>
</html>